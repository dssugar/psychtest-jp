/**
 * K6 (Kessler Psychological Distress Scale) - Scoring & Configuration
 *
 * Kessler Psychological Distress Scale (K6) ã®æ¡ç‚¹ã¨ãƒ¬ãƒ™ãƒ«åˆ¤å®š
 *
 * ã‚¹ã‚³ã‚¢ç¯„å›²: 0-24ç‚¹
 * - 0-4ç‚¹: å•é¡Œãªã— (No distress)
 * - 5-9ç‚¹: è»½åº¦ã®å¿ƒç†çš„è‹¦ç—› (Mild distress)
 * - 10-12ç‚¹: ä¸­ç­‰åº¦ã®å¿ƒç†çš„è‹¦ç—› (Moderate distress)
 * - 13-24ç‚¹: é‡åº¦ã®å¿ƒç†çš„è‹¦ç—› (Severe distress)
 *
 * @reference Kessler, R. C., et al. (2002). Short screening scales to monitor population
 *            prevalences and trends in non-specific psychological distress.
 *            Psychological Medicine, 32(6), 959-976.
 */

import { questions, scaleOptions, scaleInfo, instructionText } from "@/data/k6-questions";
import type { TestConfig } from "./types";
import type { DimensionData } from "@/lib/og-design/types";
import { TEST_COLOR_MAP } from "@/lib/og-design/constants";

// ============================================================================
// Types & Interfaces
// ============================================================================

// è©³ç´°è§£é‡ˆã®æ§‹é€ ï¼ˆPhase 5æº–æ‹  - PHQ-9, Rosenbergã¨åŒã˜ï¼‰
export interface DetailedInterpretation {
  summary: string;           // è¦ç´„ï¼ˆç´„200å­—ï¼‰
  dailyLifeImpact: string;   // æ—¥å¸¸ç”Ÿæ´»ã¸ã®å½±éŸ¿ï¼ˆç´„500å­—ï¼‰
  psychBackground: string;   // å¿ƒç†å­¦çš„èƒŒæ™¯ï¼ˆç´„300å­—ï¼‰
  practicalAdvice: string;   // å®Ÿç”¨çš„ã‚¢ãƒ‰ãƒã‚¤ã‚¹ï¼ˆç´„500å­—ï¼‰
}

export type K6Level = "none" | "mild" | "moderate" | "severe";

export interface K6Result {
  answers: number[];
  rawScore: number;
  level: K6Level;
  levelLabel: string;
  // NOTE: interpretation ã¯ä¿å­˜ã›ãšã€è¡¨ç¤ºæ™‚ã« getInterpretation() ã§å‹•çš„ç”Ÿæˆ
  requiresUrgentCare: boolean;
  timestamp: string;
}

// ============================================================================
// Scoring Logic
// ============================================================================

/**
 * K6ã®ã‚¹ã‚³ã‚¢ã‚’è¨ˆç®—
 * å…¨é …ç›®ã‚’å˜ç´”åŠ ç®—ï¼ˆé€†è»¢é …ç›®ãªã—ï¼‰
 */
export function calculateK6Score(answers: number[]): number {
  if (answers.length !== 6) {
    throw new Error("K6 requires exactly 6 answers");
  }

  if (answers.some((a) => a < 0 || a > 4)) {
    throw new Error("K6 answers must be between 0 and 4");
  }

  // å…¨é …ç›®ã‚’å˜ç´”åŠ ç®—ï¼ˆé€†è»¢é …ç›®ãªã—ï¼‰
  return answers.reduce((sum, answer) => sum + answer, 0);
}

/**
 * ã‚¹ã‚³ã‚¢ã‹ã‚‰ãƒ¬ãƒ™ãƒ«ã‚’åˆ¤å®š
 */
export function getK6Level(score: number): K6Level {
  if (score >= 0 && score <= 4) return "none";
  if (score >= 5 && score <= 9) return "mild";
  if (score >= 10 && score <= 12) return "moderate";
  if (score >= 13 && score <= 24) return "severe";

  throw new Error(`Invalid K6 score: ${score}`);
}

/**
 * ãƒ¬ãƒ™ãƒ«ã«å¯¾å¿œã™ã‚‹æ—¥æœ¬èªãƒ©ãƒ™ãƒ«ã‚’å–å¾—
 */
export function getK6LevelLabel(level: K6Level): string {
  const labels: Record<K6Level, string> = {
    none: "å•é¡Œãªã—",
    mild: "è»½åº¦ã®å¿ƒç†çš„è‹¦ç—›",
    moderate: "ä¸­ç­‰åº¦ã®å¿ƒç†çš„è‹¦ç—›",
    severe: "é‡åº¦ã®å¿ƒç†çš„è‹¦ç—›"
  };

  return labels[level];
}

/**
 * è©³ç´°è§£é‡ˆã‚’å–å¾—ï¼ˆPhase 5æº–æ‹  - PHQ-9, Rosenbergã¨åŒã˜æ§‹é€ ï¼‰
 * è¡¨ç¤ºæ™‚ã«å‹•çš„ç”Ÿæˆã™ã‚‹ãŸã‚ã€localStorage ã«ä¿å­˜ã—ãªã„
 */
export function getDetailedInterpretation(level: K6Level): DetailedInterpretation {
  const interpretations: Record<K6Level, DetailedInterpretation> = {
    none: {
      summary: `å¿ƒç†çš„è‹¦ç—›ã¯æœ€å°é™ã®çŠ¶æ…‹ã§ã™ã€‚æ—¥æœ¬ã®å›½æ°‘ç”Ÿæ´»åŸºç¤èª¿æŸ»ã«ã‚ˆã‚‹ã¨ã€70.9%ã®äººãŒã“ã®ç¯„å›²ã«è©²å½“ã—ã€ç²¾ç¥ç–¾æ‚£ã‚’æœ‰ã™ã‚‹å¯èƒ½æ€§ã¯æ¥µã‚ã¦ä½ã„å¥åº·çš„ãªçŠ¶æ…‹ã§ã™ã€‚éå»30æ—¥é–“ã«ãŠã„ã¦ã€ç¥çµŒéæ•ã•ã€çµ¶æœ›æ„Ÿã€è½ã¡ç€ã‹ãªã•ã€æ°—åˆ†ã®è½ã¡è¾¼ã¿ã€ç–²åŠ´æ„Ÿã€ç„¡ä¾¡å€¤æ„Ÿãªã©ã®ç—‡çŠ¶ã¯ã»ã¨ã‚“ã©çµŒé¨“ã—ã¦ãŠã‚‰ãšã€æ—¥å¸¸çš„ãªã‚¹ãƒˆãƒ¬ã‚¹ã«å¯¾ã—ã¦é©åˆ‡ãªå¯¾å‡¦èƒ½åŠ›ã‚’ç¶­æŒã—ã¦ã„ã¾ã™ã€‚`,

      dailyLifeImpact: `éå»30æ—¥é–“ã«ãŠã„ã¦ã€æ—¥å¸¸ç”Ÿæ´»ã«æ”¯éšœã‚’ããŸã™ã‚ˆã†ãªå¿ƒç†çš„è‹¦ç—›ã¯ã»ã¨ã‚“ã©çµŒé¨“ã—ã¦ã„ã¾ã›ã‚“ã€‚

**å¯¾äººé–¢ä¿‚**: å®¶æ—ã‚„å‹äººã¨ã®é–¢ä¿‚ã‚’æ¥½ã—ã¿ã€ç¤¾äº¤çš„ãªæ´»å‹•ã«ã‚‚ç©æ¥µçš„ã«å‚åŠ ã§ãã¦ã„ã¾ã™ã€‚ä»–è€…ã¨ã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãŠã„ã¦ã‚‚ã€éåº¦ãªç¥çµŒéæ•ã•ã‚„ä¸å®‰ã‚’æ„Ÿã˜ã‚‹ã“ã¨ãªãã€è‡ªç„¶ã«æŒ¯ã‚‹èˆãˆã¦ã„ã¾ã™ã€‚

**ä»•äº‹ãƒ»å­¦æ¥­**: é›†ä¸­åŠ›ãŒç¶­æŒã•ã‚Œã¦ãŠã‚Šã€é€šå¸¸ã®æ¥­å‹™ã‚„å­¦æ¥­ã«å•é¡Œãªãå–ã‚Šçµ„ã‚ã¦ã„ã¾ã™ã€‚æ–°ã—ã„ã‚¿ã‚¹ã‚¯ã«ã‚‚å‰å‘ãã«å–ã‚Šçµ„ã‚ã€ç”Ÿç”£æ€§ã‚‚æ­£å¸¸ç¯„å›²ã«ä¿ãŸã‚Œã¦ã„ã¾ã™ã€‚ç–²åŠ´æ„Ÿã‚‚é©åˆ‡ãªä¼‘æ¯ã«ã‚ˆã‚Šå›å¾©ã§ãã€æ…¢æ€§çš„ãªç–²å¼ŠçŠ¶æ…‹ã«ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

**æ„Ÿæƒ…çŠ¶æ…‹**: æ°—åˆ†ã®è½ã¡è¾¼ã¿ã‚„çµ¶æœ›æ„Ÿã‚’æ„Ÿã˜ã‚‹ã“ã¨ã¯ç¨€ã§ã€æ—¥å¸¸çš„ãªã‚¹ãƒˆãƒ¬ã‚¹ã«å¯¾ã—ã¦ã‚‚é©åˆ‡ã«å¯¾å‡¦ã§ãã¦ã„ã¾ã™ã€‚ç„¡ä¾¡å€¤æ„Ÿã‚„è‡ªå·±å¦å®šçš„ãªæ€è€ƒã«æ‚©ã¾ã•ã‚Œã‚‹ã“ã¨ã‚‚ã»ã¨ã‚“ã©ã‚ã‚Šã¾ã›ã‚“ã€‚`,

      psychBackground: `K6ã¯ã€éå»30æ—¥é–“ã®å¿ƒç†çš„è‹¦ç—›ã‚’æ¸¬å®šã™ã‚‹æ¨™æº–åŒ–ã•ã‚ŒãŸã‚¹ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°ãƒ„ãƒ¼ãƒ«ã§ã€åšç”ŸåŠ´åƒçœã®å›½æ°‘ç”Ÿæ´»åŸºç¤èª¿æŸ»ã§ã‚‚æ¡ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚Kessler et al. (2002) ã®ç ”ç©¶ã«ã‚ˆã‚Šã€K6ã‚¹ã‚³ã‚¢0-4ç‚¹ã¯ç²¾ç¥ç–¾æ‚£ã‚’æœ‰ã™ã‚‹å¯èƒ½æ€§ãŒæ¥µã‚ã¦ä½ã„å¥åº·çš„ãªç¯„å›²ã¨ã•ã‚Œã¦ã„ã¾ã™ã€‚

æ—¥æœ¬ã®ç–«å­¦ãƒ‡ãƒ¼ã‚¿ã«ã‚ˆã‚‹ã¨ã€ç´„70.9%ã®æˆäººãŒã“ã®ã‚¹ã‚³ã‚¢ç¯„å›²ã«è©²å½“ã—ã€äººå£ã®å¤§å¤šæ•°ã‚’å ã‚ã‚‹æ­£å¸¸ç¯„å›²ã§ã™ã€‚ã“ã®çŠ¶æ…‹ã¯ã€é©åˆ‡ãªã‚¹ãƒˆãƒ¬ã‚¹å¯¾å‡¦èƒ½åŠ›ã¨ãƒ¬ã‚¸ãƒªã‚¨ãƒ³ã‚¹ï¼ˆå›å¾©åŠ›ï¼‰ãŒæ©Ÿèƒ½ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚`,

      practicalAdvice: `**ç¾åœ¨ã®çŠ¶æ…‹ã‚’ç¶­æŒã™ã‚‹**

ç¾åœ¨ã®å¥åº·çš„ãªå¿ƒç†çŠ¶æ…‹ã‚’ç¶­æŒã™ã‚‹ãŸã‚ã€ä»¥ä¸‹ã®ç¿’æ…£ã‚’ç¶™ç¶šã—ã¦ãã ã•ã„ã€‚

**ãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«ã®ç¶­æŒ**:
- è¦å‰‡æ­£ã—ã„ç¡çœ ç¿’æ…£ï¼ˆ7-8æ™‚é–“ï¼‰
- ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸé£Ÿäº‹
- å®šæœŸçš„ãªé‹å‹•ç¿’æ…£ï¼ˆé€±3å›ã€30åˆ†ç¨‹åº¦ã®æœ‰é…¸ç´ é‹å‹•ï¼‰

**ç¤¾ä¼šçš„ã‚µãƒãƒ¼ãƒˆã®ç¶­æŒ**: ç ”ç©¶ã«ã‚ˆã‚‹ã¨ã€ç¤¾ä¼šçš„ã‚µãƒãƒ¼ãƒˆï¼ˆå‹äººã€å®¶æ—ã€ãƒ¡ãƒ³ã‚¿ãƒ¼ã‹ã‚‰ã®ã‚µãƒãƒ¼ãƒˆï¼‰ã¯æœ€ã‚‚å¼·åŠ›ãªå¿ƒç†çš„å¥åº·ã®ä¿è­·å› å­ã§ã™ã€‚è‰¯å¥½ãªäººé–“é–¢ä¿‚ã‚’ç¶­æŒã—ã€å­¤ç«‹ã‚’é¿ã‘ã¦ãã ã•ã„ã€‚

**ã‚¹ãƒˆãƒ¬ã‚¹ç®¡ç†ã‚¹ã‚­ãƒ«**: ãƒã‚¤ãƒ³ãƒ‰ãƒ•ãƒ«ãƒã‚¹ã€ç‘æƒ³ã€ãƒªãƒ©ã‚¯ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³æ³•ãªã©ã‚’å­¦ã¶ã“ã¨ã§ã€å°†æ¥çš„ãªã‚¹ãƒˆãƒ¬ã‚¹ã¸ã®å¯¾å‡¦èƒ½åŠ›ãŒã•ã‚‰ã«é«˜ã¾ã‚Šã¾ã™ã€‚

**å®šæœŸçš„ãªãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°**: 3-6ãƒ¶æœˆã”ã¨ã«K6ã‚’å†æ¸¬å®šã—ã€å¿ƒç†çŠ¶æ…‹ã®å¤‰åŒ–ã‚’ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚å¤§ããªãƒ©ã‚¤ãƒ•ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆè»¢è·ã€å¼•ã£è¶Šã—ã€å–ªå¤±ãªã©ï¼‰ãŒã‚ã‚‹å ´åˆã¯ã€ç‰¹ã«æ³¨æ„ã‚’æ‰•ã„ã¾ã—ã‚‡ã†ã€‚`,
    },

    mild: {
      summary: `è»½åº¦ã®å¿ƒç†çš„è‹¦ç—›ãŒè¦‹ã‚‰ã‚Œã¾ã™ã€‚éå»30æ—¥é–“ã«ãŠã„ã¦ã€æ™‚æŠ˜ã€ç¥çµŒéæ•ã•ã‚„è½ã¡ç€ãã®ãªã•ã€æ°—åˆ†ã®è½ã¡è¾¼ã¿ãªã©ã®ç—‡çŠ¶ã‚’çµŒé¨“ã—ã¦ã„ã¾ã™ã€‚æ—¥æœ¬ã®å›½æ°‘ç”Ÿæ´»åŸºç¤èª¿æŸ»ã§ã¯ã€è»½åº¦ã®å¿ƒç†çš„è‹¦ç—›ã‚’æŠ±ãˆã‚‹äººã®ã†ã¡ã€å®Ÿéš›ã«æ²»ç™‚ã‚’å—ã‘ã¦ã„ã‚‹ã®ã¯ã‚ãšã‹5.4%ã§ã‚ã‚Šã€å¤šãã®äººãŒé©åˆ‡ãªã‚µãƒãƒ¼ãƒˆã‚’å—ã‘ã¦ã„ãªã„çŠ¶æ³ã§ã™ã€‚æ—©æœŸã®ã‚»ãƒ«ãƒ•ã‚±ã‚¢å¼·åŒ–ã«ã‚ˆã‚Šã€æ‚ªåŒ–ã‚’é˜²ãã“ã¨ãŒã§ãã¾ã™ã€‚`,

      dailyLifeImpact: `éå»30æ—¥é–“ã«ãŠã„ã¦ã€è»½åº¦ãªãŒã‚‰å¿ƒç†çš„è‹¦ç—›ãŒæ—¥å¸¸ç”Ÿæ´»ã«å½±éŸ¿ã‚’åŠã¼ã—å§‹ã‚ã¦ã„ã¾ã™ã€‚

**å¯¾äººé–¢ä¿‚**: æ™‚æŠ˜ã€ç¤¾äº¤çš„ãªå ´é¢ã‚’é¿ã‘ãŸããªã£ãŸã‚Šã€ä»–è€…ã¨ã®ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ç¥çµŒéæ•ã•ã‚’æ„Ÿã˜ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ãŸã ã—ã€è¦ªå¯†ãªé–¢ä¿‚ã¯ç¶­æŒã§ãã¦ãŠã‚Šã€å®Œå…¨ã«å­¤ç«‹ã—ã¦ã„ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

**ä»•äº‹ãƒ»å­¦æ¥­**: é›†ä¸­åŠ›ãŒã‚„ã‚„ä½ä¸‹ã—ãŸã‚Šã€ç–²åŠ´æ„Ÿã‚’æ„Ÿã˜ã‚„ã™ããªã£ã¦ã„ã¾ã™ã€‚é€šå¸¸ã®æ¥­å‹™ã‚„å­¦æ¥­ã¯ã“ãªã›ã¦ã„ã¾ã™ãŒã€ä»¥å‰ã‚ˆã‚Šã‚‚æ™‚é–“ãŒã‹ã‹ã£ãŸã‚Šã€ã‚„ã‚‹æ°—ãŒå‡ºã«ãã„ã¨æ„Ÿã˜ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚æ¬ å‹¤ãƒ»æ¬ å¸­ãŒå¢—ãˆã¦ã„ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«å½±éŸ¿ãŒå‡ºå§‹ã‚ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

**æ„Ÿæƒ…çŠ¶æ…‹**: æ™‚ã€…æ°—åˆ†ãŒè½ã¡è¾¼ã‚“ã ã‚Šã€è½ã¡ç€ãã®ãªã•ã‚’æ„Ÿã˜ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚çµ¶æœ›æ„Ÿã‚„ç„¡ä¾¡å€¤æ„Ÿã‚’æ„Ÿã˜ã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ãŒã€ãã‚Œã‚‰ã¯ä¸€æ™‚çš„ã§ã€æ—¥å¸¸ç”Ÿæ´»ã‚’å®Œå…¨ã«æ”¯é…ã™ã‚‹ã»ã©ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚`,

      psychBackground: `K6ã‚¹ã‚³ã‚¢5-9ç‚¹ã¯ã€è»½åº¦ã®å¿ƒç†çš„è‹¦ç—›ã‚’ç¤ºã—ã¾ã™ã€‚ã“ã®æ®µéšã§ã¯ã€ã¾ã ç²¾ç¥ç–¾æ‚£ã®è¨ºæ–­åŸºæº–ã‚’æº€ãŸã™å¯èƒ½æ€§ã¯ä½ã„ã‚‚ã®ã®ã€æ”¾ç½®ã™ã‚‹ã¨æ‚ªåŒ–ã™ã‚‹ãƒªã‚¹ã‚¯ãŒã‚ã‚Šã¾ã™ã€‚

ç–«å­¦ç ”ç©¶ã«ã‚ˆã‚‹ã¨ã€è»½åº¦ã®å¿ƒç†çš„è‹¦ç—›ã‚’æŠ±ãˆã‚‹äººã®å¤šããŒé©åˆ‡ãªã‚µãƒãƒ¼ãƒˆã‚’å—ã‘ã¦ã„ã¾ã›ã‚“ã€‚ã—ã‹ã—ã€ã“ã®æ®µéšã§ã®æ—©æœŸä»‹å…¥ï¼ˆã‚¹ãƒˆãƒ¬ã‚¹ç®¡ç†ã€ã‚»ãƒ«ãƒ•ã‚±ã‚¢å¼·åŒ–ã€å¿…è¦ã«å¿œã˜ãŸå°‚é–€å®¶ç›¸è«‡ï¼‰ã«ã‚ˆã‚Šã€ç—‡çŠ¶ã®é€²è¡Œã‚’é˜²ãã€å›å¾©ã‚’æ—©ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ç¤¾ä¼šçš„ã‚µãƒãƒ¼ãƒˆï¼ˆå‹äººã€å®¶æ—ã€ãƒ¡ãƒ³ã‚¿ãƒ¼ã‹ã‚‰ã®ã‚µãƒãƒ¼ãƒˆï¼‰ã¯ã€å¿ƒç†çš„è‹¦ç—›ã‚’è»½æ¸›ã™ã‚‹æœ€ã‚‚å¼·åŠ›ãªä¿è­·å› å­ã§ã‚ã‚‹ã“ã¨ãŒå®Ÿè¨¼ã•ã‚Œã¦ã„ã¾ã™ã€‚`,

      practicalAdvice: `**ã‚»ãƒ«ãƒ•ã‚±ã‚¢ã®å¼·åŒ–**

æ—©ã‚ã®å¯¾å‡¦ã«ã‚ˆã‚Šã€ç—‡çŠ¶ã®æ‚ªåŒ–ã‚’é˜²ãã“ã¨ãŒã§ãã¾ã™ã€‚

**ãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«ã®æ”¹å–„**:
- **ç¡çœ ã®è³ªå‘ä¸Š**: å°±å¯ãƒ»èµ·åºŠæ™‚é–“ã‚’ä¸€å®šã«ä¿ã¡ã€å¯ã‚‹å‰ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚¿ã‚¤ãƒ ã‚’æ¸›ã‚‰ã™
- **å®šæœŸçš„ãªé‹å‹•**: é€±3-4å›ã€30åˆ†ç¨‹åº¦ã®æœ‰é…¸ç´ é‹å‹•ï¼ˆã‚¦ã‚©ãƒ¼ã‚­ãƒ³ã‚°ã€ã‚¸ãƒ§ã‚®ãƒ³ã‚°ãªã©ï¼‰ã¯ã€å¿ƒç†çš„è‹¦ç—›ã®è»½æ¸›ã«åŠ¹æœçš„
- **ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸé£Ÿäº‹**: æ „é¤Šä¸è¶³ã¯ãƒ¡ãƒ³ã‚¿ãƒ«ãƒ˜ãƒ«ã‚¹ã«æ‚ªå½±éŸ¿ã‚’åŠã¼ã—ã¾ã™
- **ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«ãƒ»ã‚«ãƒ•ã‚§ã‚¤ãƒ³ã®åˆ¶é™**: éåº¦ãªæ‘‚å–ã¯ä¸å®‰ã‚„ç¡çœ éšœå®³ã‚’æ‚ªåŒ–ã•ã›ã¾ã™

**ã‚¹ãƒˆãƒ¬ã‚¹ç®¡ç†**:
- ã‚¹ãƒˆãƒ¬ã‚¹æºã‚’ç‰¹å®šã—ã€å¯èƒ½ã§ã‚ã‚Œã°è»½æ¸›ã™ã‚‹åŠªåŠ›ã‚’ã™ã‚‹
- ãƒªãƒ©ã‚¯ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³æŠ€æ³•ï¼ˆæ·±å‘¼å¸ã€ãƒã‚¤ãƒ³ãƒ‰ãƒ•ãƒ«ãƒã‚¹ã€ç‘æƒ³ãªã©ï¼‰ã‚’æ—¥å¸¸ã«å–ã‚Šå…¥ã‚Œã‚‹
- è¶£å‘³ã‚„ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã®æ™‚é–“ã‚’å„ªå…ˆã™ã‚‹

**ç¤¾ä¼šçš„ã‚µãƒãƒ¼ãƒˆ**: ä¿¡é ¼ã§ãã‚‹å‹äººã‚„å®¶æ—ã«è‡ªåˆ†ã®çŠ¶æ…‹ã‚’å…±æœ‰ã—ã€å­¤ç«‹ã‚’é¿ã‘ã¦ãã ã•ã„ã€‚

**å†è©•ä¾¡**: 1-2ãƒ¶æœˆå¾Œã«K6ã‚’å†ãƒ†ã‚¹ãƒˆã—ã€æ”¹å–„ãŒè¦‹ã‚‰ã‚Œãªã„å ´åˆã€ã¾ãŸã¯ç—‡çŠ¶ãŒæ‚ªåŒ–ã—ã¦ã„ã‚‹å ´åˆã¯ã€å°‚é–€å®¶ï¼ˆç²¾ç¥ç§‘ã€å¿ƒç™‚å†…ç§‘ã€ã‚«ã‚¦ãƒ³ã‚»ãƒ©ãƒ¼ï¼‰ã¸ã®ç›¸è«‡ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ã€‚`,
    },

    moderate: {
      summary: `ä¸­ç­‰åº¦ã®å¿ƒç†çš„è‹¦ç—›ãŒè¦‹ã‚‰ã‚Œã¾ã™ã€‚éå»30æ—¥é–“ã«ãŠã„ã¦ã€ã‹ãªã‚Šã®é »åº¦ã§ç¥çµŒéæ•ã•ã€çµ¶æœ›æ„Ÿã€è½ã¡ç€ã‹ãªã•ã€æ°—åˆ†ã®è½ã¡è¾¼ã¿ã€ç–²åŠ´æ„Ÿã€ç„¡ä¾¡å€¤æ„Ÿãªã©ã®ç—‡çŠ¶ã‚’çµŒé¨“ã—ã¦ã„ã¾ã™ã€‚ç ”ç©¶ã«ã‚ˆã‚‹ã¨ã€ã“ã®ã‚¹ã‚³ã‚¢ç¯„å›²ã§ã¯æ—¥å¸¸ç”Ÿæ´»ã®è¤‡æ•°é ˜åŸŸã«æ©Ÿèƒ½éšœå®³ã®å½±éŸ¿ãŒè¦‹ã‚‰ã‚Œã¾ã™ã€‚å°‚é–€å®¶ã¸ã®ç›¸è«‡ã‚’å¼·ãæ¨å¥¨ã—ã¾ã™ã€‚`,

      dailyLifeImpact: `éå»30æ—¥é–“ã«ãŠã„ã¦ã€ä¸­ç­‰åº¦ã®å¿ƒç†çš„è‹¦ç—›ãŒæ—¥å¸¸ç”Ÿæ´»ã«æ˜ç¢ºãªæ”¯éšœã‚’ããŸã—ã¦ã„ã¾ã™ã€‚

**å¯¾äººé–¢ä¿‚**: ç¤¾äº¤çš„ãªæ´»å‹•ã‚’é¿ã‘ã‚‹ã‚ˆã†ã«ãªã‚Šã€äººã¨ã®äº¤æµãŒæ¸›å°‘ã—ã¦ã„ã¾ã™ã€‚å®¶æ—ã‚„å‹äººã¨ã®é–¢ä¿‚ã«ã‚‚å½±éŸ¿ãŒå‡ºå§‹ã‚ã€å­¤ç«‹æ„Ÿã‚’æ„Ÿã˜ã‚‹ã“ã¨ãŒå¢—ãˆã¦ã„ã¾ã™ã€‚ç¥çµŒéæ•ã•ã‚„æ°—åˆ†ã®è½ã¡è¾¼ã¿ã«ã‚ˆã‚Šã€ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå›°é›£ã«æ„Ÿã˜ã‚‰ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

**ä»•äº‹ãƒ»å­¦æ¥­**: ç ”ç©¶ã«ã‚ˆã‚‹ã¨ã€ã“ã®ã‚¹ã‚³ã‚¢ç¯„å›²ã§ã¯ä»•äº‹ã€å®¶äº‹ã€ç¤¾ä¼šç”Ÿæ´»ã€å®¶æ—é–¢ä¿‚ã®å…¨é ˜åŸŸã«æ©Ÿèƒ½éšœå®³ã®å½±éŸ¿ãŒè¦‹ã‚‰ã‚Œã¾ã™ã€‚é›†ä¸­åŠ›ã®ä½ä¸‹ã€æ„æ¬²ã®æ¸›é€€ã€ç–²åŠ´æ„Ÿã®å¢—å¤§ã«ã‚ˆã‚Šã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒæ˜ã‚‰ã‹ã«ä½ä¸‹ã—ã¦ã„ã¾ã™ã€‚ã‚¿ã‚¹ã‚¯ã‚’å®Œäº†ã™ã‚‹ã®ã«æ™‚é–“ãŒã‹ã‹ã‚Šã€ãƒŸã‚¹ãŒå¢—ãˆã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚æ¬ å‹¤ã‚„æ¬ å¸­ãŒå¢—ãˆå§‹ã‚ã¦ã„ã‚‹å ´åˆã‚‚ã‚ã‚Šã¾ã™ã€‚

**æ„Ÿæƒ…çŠ¶æ…‹**: ã‹ãªã‚Šã®é »åº¦ã§æ°—åˆ†ã®è½ã¡è¾¼ã¿ã€çµ¶æœ›æ„Ÿã€ç„¡ä¾¡å€¤æ„Ÿã‚’çµŒé¨“ã—ã¦ã„ã¾ã™ã€‚è½ã¡ç€ã‹ãªã•ã‚„ç¥çµŒéæ•ã•ãŒå¼·ãã€ãƒªãƒ©ãƒƒã‚¯ã‚¹ã™ã‚‹ã“ã¨ãŒå›°é›£ã§ã™ã€‚æ…¢æ€§çš„ãªç–²åŠ´æ„ŸãŒã‚ã‚Šã€ä¼‘æ¯ã—ã¦ã‚‚å›å¾©ã—ã«ãã„çŠ¶æ…‹ã§ã™ã€‚`,

      psychBackground: `K6ã‚¹ã‚³ã‚¢10-12ç‚¹ã¯ã€ä¸­ç­‰åº¦ã®å¿ƒç†çš„è‹¦ç—›ã‚’ç¤ºã—ã€å›½æ°‘ç”Ÿæ´»åŸºç¤èª¿æŸ»ã«ãŠã„ã¦ã€Œè¦æ³¨æ„ã€ã¨ã•ã‚Œã‚‹ç¯„å›²ã§ã™ã€‚ã“ã®ã‚¹ã‚³ã‚¢ã¯ã€ç²¾ç¥ç–¾æ‚£ï¼ˆã†ã¤ç—…ã€ä¸å®‰ç—‡ãªã©ï¼‰ã‚’æœ‰ã™ã‚‹å¯èƒ½æ€§ãŒé«˜ã¾ã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¤ºå”†ã—ã¦ã„ã¾ã™ã€‚

é‡è¦ãªç ”ç©¶çŸ¥è¦‹ã¨ã—ã¦ã€èªçŸ¥è¡Œå‹•ç™‚æ³•ï¼ˆCBTï¼‰ã¯40-60%ã®æˆåŠŸç‡ã‚’ç¤ºã—ã¦ãŠã‚Šã€æ²»ç™‚ã‚’å—ã‘ãŸå ´åˆã€2ãƒ¶æœˆæ™‚ç‚¹ã§41%ãŒç—‡çŠ¶æ”¹å–„ã®åå¿œã‚’ç¤ºã—ã¾ã™ï¼ˆé€šå¸¸ã‚±ã‚¢ã§ã¯17%ï¼‰ã€‚ã¾ãŸã€æ²»ç™‚ã«ã‚ˆã‚Šç—‡çŠ¶æ‚ªåŒ–ç‡ãŒ12-13%ã‹ã‚‰5%ã«åŠæ¸›ã™ã‚‹ã“ã¨ãŒå®Ÿè¨¼ã•ã‚Œã¦ã„ã¾ã™ã€‚

ã“ã®æ®µéšã§ã®å°‚é–€çš„ä»‹å…¥ã¯ã€ç—‡çŠ¶ã®é€²è¡Œã‚’é˜²ãã€å›å¾©ã‚’æ—©ã‚ã‚‹ä¸Šã§éå¸¸ã«é‡è¦ã§ã™ã€‚`,

      practicalAdvice: `**å°‚é–€å®¶ã¸ã®ç›¸è«‡ï¼ˆå¼·ãæ¨å¥¨ï¼‰**

ã“ã®ã‚¹ã‚³ã‚¢ç¯„å›²ã§ã¯ã€**å°‚é–€å®¶ï¼ˆç²¾ç¥ç§‘åŒ»ã€å¿ƒç™‚å†…ç§‘åŒ»ã€è‡¨åºŠå¿ƒç†å£«ã€å…¬èªå¿ƒç†å¸«ï¼‰ã¸ã®ç›¸è«‡ã‚’å¼·ãæ¨å¥¨ã—ã¾ã™**ã€‚ä¸­ç­‰åº¦ã®å¿ƒç†çš„è‹¦ç—›ã¯ã€å°‚é–€çš„ãªã‚µãƒãƒ¼ãƒˆã«ã‚ˆã‚Šå¤§å¹…ãªæ”¹å–„ãŒæœŸå¾…ã§ãã¾ã™ã€‚

**æ²»ç™‚åŠ¹æœã®ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹**:
- èªçŸ¥è¡Œå‹•ç™‚æ³•ï¼ˆCBTï¼‰ã¯40-60%ã®æˆåŠŸç‡
- æ²»ç™‚ã‚’å—ã‘ãŸå ´åˆã€2ãƒ¶æœˆæ™‚ç‚¹ã§41%ãŒæ”¹å–„ï¼ˆé€šå¸¸ã‚±ã‚¢17%ã¨æ¯”è¼ƒï¼‰
- æ²»ç™‚ã«ã‚ˆã‚Šæ‚ªåŒ–ç‡ãŒ12-13%ã‹ã‚‰5%ã«åŠæ¸›

**æ²»ç™‚ã‚ªãƒ—ã‚·ãƒ§ãƒ³**:
- **å¿ƒç†ç™‚æ³•**: èªçŸ¥è¡Œå‹•ç™‚æ³•ï¼ˆCBTï¼‰ã€ãƒã‚¤ãƒ³ãƒ‰ãƒ•ãƒ«ãƒã‚¹èªçŸ¥ç™‚æ³•ãªã©
- **è–¬ç‰©ç™‚æ³•**: å¿…è¦ã«å¿œã˜ã¦æŠ—ã†ã¤è–¬ãƒ»æŠ—ä¸å®‰è–¬ï¼ˆåŒ»å¸«ã®åˆ¤æ–­ã«ã‚ˆã‚‹ï¼‰
- **ä½µç”¨ç™‚æ³•**: å¿ƒç†ç™‚æ³•ã¨è–¬ç‰©ç™‚æ³•ã®çµ„ã¿åˆã‚ã›ãŒæœ€ã‚‚åŠ¹æœçš„ãªå ´åˆãŒã‚ã‚Šã¾ã™

**ãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«ã®èª¿æ•´**:
- **ä¼‘æ¯ã®å„ªå…ˆ**: ä»•äº‹ãƒ»å­¦æ¥­ã®è² æ‹…è»½æ¸›ã‚’æ¤œè¨ã—ã¦ãã ã•ã„ï¼ˆä¼‘è·ãƒ»ä¼‘å­¦ã‚‚é¸æŠè‚¢ï¼‰
- **å¨¯æ¥½ã¨ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥**: ç¾©å‹™ã‚’æ¸›ã‚‰ã—ã€æ¥½ã—ã‚ã‚‹æ´»å‹•ã‚’å„ªå…ˆã™ã‚‹
- **ç¤¾ä¼šçš„ã‚µãƒãƒ¼ãƒˆ**: ä¿¡é ¼ã§ãã‚‹äººã«çŠ¶æ³ã‚’å…±æœ‰ã—ã€ã‚µãƒãƒ¼ãƒˆã‚’æ±‚ã‚ã‚‹

**å†è©•ä¾¡**: 2é€±é–“å¾Œã«K6ã‚’å†ãƒ†ã‚¹ãƒˆã—ã€æ”¹å–„ãŒãªã‘ã‚Œã°é€Ÿã‚„ã‹ã«å°‚é–€å®¶ã‚’å—è¨ºã—ã¦ãã ã•ã„ã€‚ç—‡çŠ¶ãŒæ€¥é€Ÿã«æ‚ªåŒ–ã—ã¦ã„ã‚‹å ´åˆã¯ã€ç›´ã¡ã«åŒ»ç™‚æ©Ÿé–¢ã‚’å—è¨ºã—ã¦ãã ã•ã„ã€‚`,
    },

    severe: {
      summary: `é‡åº¦ã®å¿ƒç†çš„è‹¦ç—›ãŒè¦‹ã‚‰ã‚Œã¾ã™ã€‚æ—¥æœ¬ã®å›½æ°‘ç”Ÿæ´»åŸºç¤èª¿æŸ»ã§ã¯ã€ç´„8.5%ã®äººãŒã“ã®ã‚¹ã‚³ã‚¢ç¯„å›²ã«è©²å½“ã—ã¾ã™ã€‚ã“ã®ã‚¹ã‚³ã‚¢ã¯ã€DSM-IVè¨ºæ–­åŸºæº–ã‚’æº€ãŸã™ç²¾ç¥ç–¾æ‚£ã®å¯èƒ½æ€§ãŒéå¸¸ã«é«˜ã„ã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ï¼ˆç‰¹ç•°åº¦96%ã€ç·åˆç²¾åº¦92%ï¼‰ã€‚æ—¥å¸¸ç”Ÿæ´»ã«æ·±åˆ»ãªæ”¯éšœãŒå‡ºã¦ãŠã‚Šã€é€Ÿã‚„ã‹ã«å°‚é–€å®¶ã«ã‚ˆã‚‹è©•ä¾¡ã¨æ²»ç™‚ãŒå¿…è¦ãªçŠ¶æ…‹ã§ã™ã€‚`,

      dailyLifeImpact: `éå»30æ—¥é–“ã«ãŠã„ã¦ã€é‡åº¦ã®å¿ƒç†çš„è‹¦ç—›ãŒæ—¥å¸¸ç”Ÿæ´»ã«æ·±åˆ»ãªå½±éŸ¿ã‚’åŠã¼ã—ã¦ã„ã¾ã™ã€‚

**å¯¾äººé–¢ä¿‚**: ã»ã¨ã‚“ã©ä»–è€…ã¨ã®äº¤æµã‚’é¿ã‘ã€å¼·ã„å­¤ç«‹æ„Ÿã¨å­¤ç‹¬æ„Ÿã‚’çµŒé¨“ã—ã¦ã„ã¾ã™ã€‚å®¶æ—ã‚„è¦ªã—ã„äººã¨ã®é–¢ä¿‚ã‚‚æãªã‚ã‚Œã€ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å–ã‚‹ã“ã¨è‡ªä½“ãŒå¤§ããªè² æ‹…ã«æ„Ÿã˜ã‚‰ã‚Œã¾ã™ã€‚ç¤¾ä¼šçš„å¼•ãã“ã‚‚ã‚ŠãŒè¦‹ã‚‰ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

**ä»•äº‹ãƒ»å­¦æ¥­**: ä»•äº‹ã‚„å­¦æ¥­ã®é‚è¡ŒãŒæ¥µã‚ã¦å›°é›£ã«ãªã£ã¦ã„ã¾ã™ã€‚é »ç¹ãªæ¬ å‹¤ãƒ»æ¬ å¸­ã€ã¾ãŸã¯é•·æœŸã®ä¼‘è·ãƒ»ä¼‘å­¦ã‚’ä½™å„€ãªãã•ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚é›†ä¸­åŠ›ã€è¨˜æ†¶åŠ›ã€åˆ¤æ–­åŠ›ãŒè‘—ã—ãä½ä¸‹ã—ã€æ—¥å¸¸çš„ãªã‚¿ã‚¹ã‚¯ã§ã™ã‚‰å®Œäº†ã§ããªã„çŠ¶æ…‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

**æ„Ÿæƒ…çŠ¶æ…‹**: æŒç¶šçš„ã‹ã¤å¼·ã„æ°—åˆ†ã®è½ã¡è¾¼ã¿ã€çµ¶æœ›æ„Ÿã€ç„¡ä¾¡å€¤æ„Ÿã‚’çµŒé¨“ã—ã¦ã„ã¾ã™ã€‚ç¥çµŒéæ•ã•ã‚„è½ã¡ç€ã‹ãªã•ãŒæ¥µåº¦ã«å¼·ãã€ãƒªãƒ©ãƒƒã‚¯ã‚¹ã™ã‚‹ã“ã¨ãŒã»ã¼ä¸å¯èƒ½ã§ã™ã€‚æ…¢æ€§çš„ãªç–²åŠ´æ„Ÿã¨å€¦æ€ æ„ŸãŒã‚ã‚Šã€ä½•ã‚’ã™ã‚‹ã«ã‚‚ã‚¨ãƒãƒ«ã‚®ãƒ¼ãŒæ¹§ãã¾ã›ã‚“ã€‚æ—¥å¸¸ç”Ÿæ´»ã®åŸºæœ¬çš„ãªæ´»å‹•ï¼ˆå…¥æµ´ã€ç€æ›¿ãˆã€é£Ÿäº‹ãªã©ï¼‰ã‚’è¡Œã†ã“ã¨ã‚‚å›°é›£ã«æ„Ÿã˜ã‚‰ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚`,

      psychBackground: `K6ã‚¹ã‚³ã‚¢13ç‚¹ä»¥ä¸Šã¯ã€é‡åº¦ã®å¿ƒç†çš„è‹¦ç—›ã‚’ç¤ºã—ã€DSM-IVè¨ºæ–­åŸºæº–ã‚’æº€ãŸã™ç²¾ç¥ç–¾æ‚£ï¼ˆå¤§ã†ã¤ç—…æ€§éšœå®³ã€å…¨èˆ¬æ€§ä¸å®‰ç—‡ãªã©ï¼‰ã®å¯èƒ½æ€§ãŒéå¸¸ã«é«˜ã„ã“ã¨ãŒç¤ºã•ã‚Œã¦ã„ã¾ã™ï¼ˆç‰¹ç•°åº¦96%ã€ç·åˆç²¾åº¦92%ï¼‰ã€‚

ç–«å­¦ãƒ‡ãƒ¼ã‚¿ã«ã‚ˆã‚‹ã¨ã€æ—¥æœ¬ã§ã¯ç´„8.5%ã®æˆäººãŒã“ã®ã‚¹ã‚³ã‚¢ç¯„å›²ã«è©²å½“ã—ã¾ã™ãŒã€å®Ÿéš›ã«å°‚é–€çš„æ²»ç™‚ã‚’å—ã‘ã¦ã„ã‚‹ã®ã¯ã”ãä¸€éƒ¨ã§ã™ã€‚

é‡è¦ãªç‚¹ã¨ã—ã¦ã€é©åˆ‡ãªæ²»ç™‚ã«ã‚ˆã‚Šå¤§å¹…ãªæ”¹å–„ãŒæœŸå¾…ã§ãã¾ã™ã€‚æ²»ç™‚åŠ¹æœã®ãƒ¡ã‚¿åˆ†æã§ã¯ã€ã†ã¤ç—…ã«å¯¾ã™ã‚‹åŠ¹æœé‡ d=0.96ã€ä¸å®‰éšœå®³ã«å¯¾ã™ã‚‹åŠ¹æœé‡ d=0.80ã¨ã„ã†éå¸¸ã«å¤§ããªåŠ¹æœãŒç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚è–¬ç‰©ç™‚æ³•ã¯é€šå¸¸2-4é€±é–“ã§åŠ¹æœãŒç¾ã‚Œå§‹ã‚ã€æœ€åˆã®6ãƒ¶æœˆã§æœ€ã‚‚å¤§ããªç—‡çŠ¶ã®æ¸›å°‘ãŒè¦‹ã‚‰ã‚Œã¾ã™ã€‚`,

      practicalAdvice: `**ç·Šæ€¥: é€Ÿã‚„ã‹ã«å°‚é–€å®¶ã‚’å—è¨ºã—ã¦ãã ã•ã„**

ã“ã®ã‚¹ã‚³ã‚¢ç¯„å›²ã§ã¯ã€**ç²¾ç¥ç§‘åŒ»ã€å¿ƒç™‚å†…ç§‘åŒ»ã€ã¾ãŸã¯å¿ƒç†å£«ãªã©ã®å°‚é–€å®¶ã‚’é€Ÿã‚„ã‹ã«å—è¨ºã™ã‚‹ã“ã¨ãŒå¿…è¦ã§ã™**ã€‚é‡åº¦ã®å¿ƒç†çš„è‹¦ç—›ã¯ã€å°‚é–€çš„ãªæ²»ç™‚ã«ã‚ˆã‚Šå¤§å¹…ãªæ”¹å–„ãŒæœŸå¾…ã§ãã¾ã™ã€‚

**æ²»ç™‚åŠ¹æœã®ã‚¨ãƒ“ãƒ‡ãƒ³ã‚¹**:
- **æ²»ç™‚åŠ¹æœé‡**: ã†ã¤ç—… d=0.96ã€ä¸å®‰éšœå®³ d=0.80ï¼ˆéå¸¸ã«å¤§ããªåŠ¹æœï¼‰
- **è–¬ç‰©ç™‚æ³•**: 2-4é€±é–“ã§åŠ¹æœãŒç¾ã‚Œå§‹ã‚ã¾ã™
- **æ”¹å–„ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³**: æœ€åˆã®6ãƒ¶æœˆã§æœ€ã‚‚å¤§ããªç—‡çŠ¶ã®æ¸›å°‘ãŒè¦‹ã‚‰ã‚Œã¾ã™

**æ²»ç™‚ã‚ªãƒ—ã‚·ãƒ§ãƒ³**:
- **è–¬ç‰©ç™‚æ³•**: æŠ—ã†ã¤è–¬ã€æŠ—ä¸å®‰è–¬ãªã©ã®å‡¦æ–¹ï¼ˆç²¾ç¥ç§‘åŒ»ãƒ»å¿ƒç™‚å†…ç§‘åŒ»ï¼‰
- **å¿ƒç†ç™‚æ³•**: èªçŸ¥è¡Œå‹•ç™‚æ³•ï¼ˆCBTï¼‰ã€ãƒã‚¤ãƒ³ãƒ‰ãƒ•ãƒ«ãƒã‚¹èªçŸ¥ç™‚æ³•ãªã©
- **é›†ä¸­çš„ã‚µãƒãƒ¼ãƒˆ**: å¿…è¦ã«å¿œã˜ã¦å…¥é™¢æ²»ç™‚ã‚„ãƒ‡ã‚¤ã‚±ã‚¢ãƒ—ãƒ­ã‚°ãƒ©ãƒ 

**ç·Šæ€¥æ™‚ã®é€£çµ¡å…ˆ**:
è‡ªå‚·è¡Œç‚ºã‚„è‡ªæ®ºå¿µæ…®ãŒã‚ã‚‹å ´åˆã¯ã€**ç›´ã¡ã«**ä»¥ä¸‹ã«é€£çµ¡ã—ã¦ãã ã•ã„ï¼š
- **ã“ã“ã‚ã®å¥åº·ç›¸è«‡çµ±ä¸€ãƒ€ã‚¤ãƒ¤ãƒ«**: 0570-064-556
- **ã„ã®ã¡ã®é›»è©±**: 0570-783-556ï¼ˆ24æ™‚é–“å¯¾å¿œï¼‰
- **ã‚ˆã‚Šãã„ãƒ›ãƒƒãƒˆãƒ©ã‚¤ãƒ³**: 0120-279-338ï¼ˆ24æ™‚é–“å¯¾å¿œï¼‰
- **æ•‘æ€¥**: 119ç•ªï¼ˆç”Ÿå‘½ã®å±é™ºãŒã‚ã‚‹å ´åˆï¼‰

**å®¶æ—ãƒ»å‹äººã®ã‚µãƒãƒ¼ãƒˆ**:
å¯èƒ½ã§ã‚ã‚Œã°ã€ä¿¡é ¼ã§ãã‚‹å®¶æ—ã‚„å‹äººã«çŠ¶æ³ã‚’ä¼ãˆã€åŒ»ç™‚æ©Ÿé–¢ã¸ã®å—è¨ºã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã‚‚ã‚‰ã„ã¾ã—ã‚‡ã†ã€‚ä¸€äººã§æŠ±ãˆè¾¼ã¾ãšã€åŠ©ã‘ã‚’æ±‚ã‚ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚

**æ³¨æ„ç‚¹**:
- é‡åº¦ã®å¿ƒç†çš„è‹¦ç—›ã¯ã€é©åˆ‡ãªæ²»ç™‚ã«ã‚ˆã‚Šå›å¾©å¯èƒ½ã§ã™
- æ²»ç™‚ã«ã¯æ™‚é–“ãŒã‹ã‹ã‚‹ã“ã¨ã‚‚ã‚ã‚Šã¾ã™ãŒã€å¤šãã®äººãŒæ”¹å–„ã—ã¦ã„ã¾ã™
- å°‚é–€å®¶ã®åŠ©ã‘ã‚’æ±‚ã‚ã‚‹ã“ã¨ã¯ã€å¼±ã•ã§ã¯ãªãè³¢æ˜ãªé¸æŠã§ã™`,
    },
  };

  return interpretations[level];
}

/**
 * K6ã®å®Œå…¨ãªçµæœã‚’ç”Ÿæˆ
 */
export function getK6Result(answers: number[]): K6Result {
  const rawScore = calculateK6Score(answers);
  const level = getK6Level(rawScore);
  const levelLabel = getK6LevelLabel(level);

  // ã‚¹ã‚³ã‚¢13ç‚¹ä»¥ä¸Šã¯å°‚é–€å®¶ã¸ã®å—è¨ºã‚’å¼·ãæ¨å¥¨
  const requiresUrgentCare = rawScore >= 13;

  return {
    answers,
    rawScore,
    level,
    levelLabel,
    requiresUrgentCare,
    timestamp: new Date().toISOString()
  };
}

// ============================================================================
// Test Configuration
// ============================================================================

/**
 * K6 (Kessler Psychological Distress Scale) ãƒ†ã‚¹ãƒˆè¨­å®š
 */
export const k6Config: TestConfig<K6Result> = {
  id: "k6",
  color: "cyan",
  basePath: "/k6",
  questions,
  scaleOptions,
  calculateScore: getK6Result,
  scaleInfo,
  headerInstruction: instructionText,

  // çµæœãƒšãƒ¼ã‚¸è¨­å®š
  scoreDisplay: {
    maxScore: 24,
  },
  resultAlerts: [
    {
      type: "urgent",
      condition: (result: K6Result) => result.rawScore >= 13,
      title: "å°‚é–€å®¶ã¸ã®ç›¸è«‡ã‚’æ¨å¥¨ã—ã¾ã™",
      message:
        "ã‚ãªãŸã®ã‚¹ã‚³ã‚¢ã¯13ç‚¹ä»¥ä¸Šã§ã™ã€‚é‡åº¦ã®å¿ƒç†çš„è‹¦ç—›ãŒç¤ºå”†ã•ã‚Œã¦ã„ã¾ã™ã€‚ç²¾ç¥ç§‘åŒ»ã¾ãŸã¯å¿ƒç™‚å†…ç§‘åŒ»ã¸ã®å—è¨ºã‚’ã”æ¤œè¨ãã ã•ã„ã€‚",
    },
  ],
  resultExtensions: {
    shareButtons: true,
    treatmentEvidence: true,
  },

  // OGç”»åƒè¨­å®š
  ogImage: {
    layoutType: "single",
    titleEn: "K6",
    category: "å¿ƒç†çš„è‹¦ç—›è©•ä¾¡",
    description: "åšç”ŸåŠ´åƒçœã‚‚æ¡ç”¨ã™ã‚‹\nå¿ƒç†çš„ã‚¹ãƒˆãƒ¬ã‚¹æ¸¬å®š",
    scoreDisplay: { type: "raw", min: 0, max: 24, unit: "" },
    scoreToParams: (result: K6Result) => ({
      score: (result?.rawScore ?? 7).toString(),
    }),
    paramsToScore: (params: URLSearchParams) => ({
      score: parseInt(params.get("score") || "7"),
    }),
  },

  // ğŸ†• NEW: 1æ¬¡å…ƒãƒ‡ãƒ¼ã‚¿ç”Ÿæˆï¼ˆãƒ¬ãƒ™ãƒ«ãƒ™ãƒ¼ã‚¹ã®è‰²ä»˜ãï¼‰
  getDimensions: (result: K6Result): DimensionData[] => {
    const min = 0;
    const max = 24;
    const rawScore = result?.rawScore ?? 7;
    const percentage = ((rawScore - min) / (max - min)) * 100;

    // ã‚¹ã‚³ã‚¢ã«å¿œã˜ãŸè‰²ã‚’æ±ºå®š
    let color: string;
    if (rawScore >= 13) {
      color = '#f97316'; // orange (severe)
    } else if (rawScore >= 10) {
      color = '#ec4899'; // pink (moderate)
    } else if (rawScore >= 5) {
      color = '#3b82f6'; // blue (mild)
    } else {
      color = '#10b981'; // green (no distress)
    }

    return [{
      key: 'score',
      label: 'Total Score',
      score: rawScore,
      percentage: percentage,
      color: color,
    }];
  },
};
